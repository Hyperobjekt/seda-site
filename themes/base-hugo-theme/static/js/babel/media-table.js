"use strict";String.prototype.startsWith||Object.defineProperty(String.prototype,"startsWith",{value:function value(a,b){var c=0<b?0|b:0;return this.substring(c,c+a.length)===a}});/**
 * Google Sheets-backed media table
 */function createMediaTable(a,b,c,d,e){var f=Date.parse(a.slice(0,10)),g=Date.parse(c.slice(0,10)),h=f>=g?f:g,j=new Date(h),k=j.toLocaleDateString("en-US"),l=0<e?", "+e+" LMS referrals":"";$("#lastUpdated").html(k),$("#numLocalStories").html(b.toLocaleString()),$("#numNationalStories").html(d.length.toLocaleString()),$("#numLMSReferrals").html(l),$("#national-media-table").append("<tbody></tbody>");for(var m=$("#national-media-table tbody"),n=["Title","Description","Date","Outlet"],o=["title","description","date","outlet"],p=$("<tr></tr>"),q=0;q<n.length;++q)p.append("<th>"+n[q]+"</th>");m.append(p);for(var r,q=0;q<d.length;++q){r=$("<tr></tr>");for(var s=0;s<o.length;++s){if("title"===o[s])var t=$("<td><a href='"+d[q].link+"' target='_blank'>"+d[q].title+"</a></td>");else var t=$("<td>"+d[q][o[s]]+"</td>");r.append(t)}m.append(r)}}/**
 * Loading Google Sheets national media table, set up map embed
 */$(document).ready(function(){var a="/public/values?alt=json";$("#national-media-table").length&&$.getJSON("https://spreadsheets.google.com/feeds/list/1vDvjR4Tgj9NnbLZwmSyJKDrEAE4gAHf0NUCjp2i7D90/1"+a,function(b){var c=b.feed.updated.$t,d=b.feed.entry.length;$.getJSON("https://spreadsheets.google.com/feeds/list/1vDvjR4Tgj9NnbLZwmSyJKDrEAE4gAHf0NUCjp2i7D90/2"+a,function(b){var e=b.feed.entry,f=b.feed.updated.$t,g=Object.keys(e[0]).filter(function(a){return a.startsWith("gsx$")}).map(function(a){return a.substr(4)}),h=e.map(function(a){var b={};return g.forEach(function(c){b[c]=""===a["gsx$"+c].$t?null:a["gsx$"+c].$t,null===b[c]&&(b[c]="")}),b});$.getJSON("https://spreadsheets.google.com/feeds/list/1vDvjR4Tgj9NnbLZwmSyJKDrEAE4gAHf0NUCjp2i7D90/3"+a,function(a){var b=a.feed.entry.length;createMediaTable(c,d,f,h,b)})})})});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9tZWRpYS10YWJsZS5qcyJdLCJuYW1lcyI6WyJTdHJpbmciLCJwcm90b3R5cGUiLCJzdGFydHNXaXRoIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJ2YWx1ZSIsInNlYXJjaCIsInJhd1BvcyIsInBvcyIsInN1YnN0cmluZyIsImxlbmd0aCIsImNyZWF0ZU1lZGlhVGFibGUiLCJvbmVMYXN0VXBkYXRlZCIsIm9uZVJvd0NvdW50IiwibGFzdFVwZGF0ZWQiLCJyb3dzIiwidG90YWxMTVNSZWZlcnJhbHMiLCJ1cGRhdGVkT25lIiwiRGF0ZSIsInBhcnNlIiwic2xpY2UiLCJ1cGRhdGVkVHdvIiwiZGF0ZU51bSIsInVwZGF0ZWREYXRlIiwidXBkYXRlZFN0ciIsInRvTG9jYWxlRGF0ZVN0cmluZyIsImxtc1JlZmVycmFsU3RyIiwiJCIsImh0bWwiLCJ0b0xvY2FsZVN0cmluZyIsImFwcGVuZCIsInRib2R5IiwiY29sTmFtZXMiLCJwcm9wcyIsImhlYWRlclJvdyIsImkiLCJ0ciIsInBpIiwidGQiLCJsaW5rIiwidGl0bGUiLCJkb2N1bWVudCIsInJlYWR5IiwiU0hFRVRfRU5EIiwiZ2V0SlNPTiIsImRhdGEiLCJzaGVldE9uZVVwZGF0ZWQiLCJmZWVkIiwidXBkYXRlZCIsIiR0Iiwic2hlZXRPbmVSb3dDb3VudCIsImVudHJ5IiwicHJvcGVydGllcyIsImtleXMiLCJmaWx0ZXIiLCJwIiwibWFwIiwic3Vic3RyIiwiY2xlYW5lZFJvd3MiLCJyIiwicm93IiwiZm9yRWFjaCJdLCJtYXBwaW5ncyI6ImFBR0tBLE1BQU0sQ0FBQ0MsU0FBUCxDQUFpQkMsVSxFQUNsQkMsTUFBTSxDQUFDQyxjQUFQLENBQXNCSixNQUFNLENBQUNDLFNBQTdCLENBQXdDLFlBQXhDLENBQXNELENBQ2xESSxLQUFLLENBQUUsZUFBU0MsQ0FBVCxDQUFpQkMsQ0FBakIsQ0FBeUIsQ0FDNUIsR0FBSUMsQ0FBQUEsQ0FBRyxDQUFZLENBQVQsQ0FBQUQsQ0FBTSxDQUFjLENB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QUZjLENBRVYsU0FBVUQsQ0FBVixDQUFhLENBQUUsTUFBT0EsQ0FBQUEsQ0FBQyxDQUFDRSxNQUFGLENBQVMsQ0FBVCxDQUFjLENBRjFCLENBSG9CLENBTWpDQyxDQUFXLENBQUczQyxDQUFJLENBQUN5QyxHQUFMLENBQVMsU0FBVUcsQ0FBVixDQUFhLENBQ3BDLEdBQUlDLENBQUFBLENBQUcsQ0FBRyxFQUFWLENBT0EsTUFOQVIsQ0FBQUEsQ0FBVSxDQUFDUyxPQUFYLENBQW1CLFNBQVVOLENBQVYsQ0FBYSxDQUM5QkssQ0FBRyxDQUFDTCxDQUFELENBQUgsQ0FBOEIsRUFBckIsR0FBQUksQ0FBQyxDQUFDLE9BQVNKLENBQVYsQ0FBRCxDQUFjTixFQUFkLENBQTBCLElBQTFCLENBQWlDVSxDQUFDLENBQUMsT0FBU0osQ0FBVixDQUFELENBQWNOLEVBRDFCLENBRWYsSUFBWCxHQUFBVyxDQUFHLENBQUNMLENBQUQsQ0FGdUIsR0FHNUJLLENBQUcsQ0FBQ0wsQ0FBRCxDQUFILENBQVMsRUFIbUIsQ0FLL0IsQ0FMRCxDQU1BLENBQU9LLENBQ1IsQ0FUZSxDQU5tQixDQWlCckNqQyxDQUFDLENBQUNpQixPQUFGLENBeEJjLDRGQUFtQkQsQ0F3QmpDLENBQXlCLFNBQVVFLENBQVYsQ0FBZ0IsQ0FDdkMsR0FBSTdCLENBQUFBLENBQWlCLENBQUc2QixDQUFJLENBQUNFLElBQUwsQ0FBVUksS0FBVixDQUFnQnpDLE1BQXhDLENBRUFDLGdCQUFnQixDQUFDbUMsQ0FBRCxDQUFrQkksQ0FBbEIsQ0FBb0NwQyxDQUFwQyxDQUFpRDRDLENBQWpELENBQThEMUMsQ0FBOUQsQ0FDakIsQ0FKRCxDQUtELENBdEJELENBdUJELENBM0JELENBNkJILENBckNELEMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIHN0YXJ0c1dpdGggcG9seWZpbGxcbiAqL1xuaWYgKCFTdHJpbmcucHJvdG90eXBlLnN0YXJ0c1dpdGgpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3RyaW5nLnByb3RvdHlwZSwgJ3N0YXJ0c1dpdGgnLCB7XG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbihzZWFyY2gsIHJhd1Bvcykge1xuICAgICAgICAgICAgdmFyIHBvcyA9IHJhd1BvcyA+IDAgPyByYXdQb3N8MCA6IDA7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zdWJzdHJpbmcocG9zLCBwb3MgKyBzZWFyY2gubGVuZ3RoKSA9PT0gc2VhcmNoO1xuICAgICAgICB9XG4gICAgfSk7XG59XG4vKipcbiAqIEdvb2dsZSBTaGVldHMtYmFja2VkIG1lZGlhIHRhYmxlXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZU1lZGlhVGFibGUob25lTGFzdFVwZGF0ZWQsIG9uZVJvd0NvdW50LCBsYXN0VXBkYXRlZCwgcm93cywgdG90YWxMTVNSZWZlcnJhbHMpIHtcbiAgdmFyIHVwZGF0ZWRPbmUgPSBEYXRlLnBhcnNlKG9uZUxhc3RVcGRhdGVkLnNsaWNlKDAsIDEwKSk7XG4gIHZhciB1cGRhdGVkVHdvID0gRGF0ZS5wYXJzZShsYXN0VXBkYXRlZC5zbGljZSgwLCAxMCkpO1xuICB2YXIgZGF0ZU51bSA9IHVwZGF0ZWRPbmUgPj0gdXBkYXRlZFR3byA/IHVwZGF0ZWRPbmUgOiB1cGRhdGVkVHdvO1xuICB2YXIgdXBkYXRlZERhdGUgPSBuZXcgRGF0ZShkYXRlTnVtKTtcbiAgdmFyIHVwZGF0ZWRTdHIgPSB1cGRhdGVkRGF0ZS50b0xvY2FsZURhdGVTdHJpbmcoXCJlbi1VU1wiKTtcbiAgdmFyIGxtc1JlZmVycmFsU3RyID0gdG90YWxMTVNSZWZlcnJhbHMgPiAwID8gJywgJyArIHRvdGFsTE1TUmVmZXJyYWxzICsgJyBMTVMgcmVmZXJyYWxzJyA6ICcnXG5cbiAgJChcIiNsYXN0VXBkYXRlZFwiKS5odG1sKHVwZGF0ZWRTdHIpO1xuICAkKFwiI251bUxvY2FsU3Rvcmllc1wiKS5odG1sKG9uZVJvd0NvdW50LnRvTG9jYWxlU3RyaW5nKCkpO1xuICAkKFwiI251bU5hdGlvbmFsU3Rvcmllc1wiKS5odG1sKHJvd3MubGVuZ3RoLnRvTG9jYWxlU3RyaW5nKCkpO1xuICAkKFwiI251bUxNU1JlZmVycmFsc1wiKS5odG1sKGxtc1JlZmVycmFsU3RyKTtcblxuICAkKFwiI25hdGlvbmFsLW1lZGlhLXRhYmxlXCIpLmFwcGVuZChcIjx0Ym9keT48L3Rib2R5PlwiKTtcbiAgdmFyIHRib2R5ID0gJChcIiNuYXRpb25hbC1tZWRpYS10YWJsZSB0Ym9keVwiKTtcbiAgdmFyIGNvbE5hbWVzID0gW1wiVGl0bGVcIiwgXCJEZXNjcmlwdGlvblwiLCBcIkRhdGVcIiwgXCJPdXRsZXRcIl07XG4gIHZhciBwcm9wcyA9IFtcInRpdGxlXCIsIFwiZGVzY3JpcHRpb25cIiwgXCJkYXRlXCIsIFwib3V0bGV0XCJdO1xuICB2YXIgaGVhZGVyUm93ID0gJChcIjx0cj48L3RyPlwiKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb2xOYW1lcy5sZW5ndGg7ICsraSkge1xuICAgIGhlYWRlclJvdy5hcHBlbmQoXCI8dGg+XCIgKyBjb2xOYW1lc1tpXSArIFwiPC90aD5cIik7XG4gIH1cbiAgdGJvZHkuYXBwZW5kKGhlYWRlclJvdyk7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCByb3dzLmxlbmd0aDsgKytpKSB7XG4gICAgdmFyIHRyID0gJChcIjx0cj48L3RyPlwiKTtcbiAgICBmb3IgKHZhciBwaSA9IDA7IHBpIDwgcHJvcHMubGVuZ3RoOyArK3BpKSB7XG4gICAgICBpZiAocHJvcHNbcGldID09PSBcInRpdGxlXCIpIHtcbiAgICAgICAgdmFyIHRkID0gJChcIjx0ZD48YSBocmVmPSdcIiArIHJvd3NbaV0ubGluayArIFwiJyB0YXJnZXQ9J19ibGFuayc+XCIgKyByb3dzW2ldLnRpdGxlICsgXCI8L2E+PC90ZD5cIilcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciB0ZCA9ICQoXCI8dGQ+XCIgKyByb3dzW2ldW3Byb3BzW3BpXV0gKyBcIjwvdGQ+XCIpO1xuICAgICAgfVxuICAgICAgdHIuYXBwZW5kKHRkKTtcbiAgICB9XG4gICAgdGJvZHkuYXBwZW5kKHRyKTtcbiAgfVxufVxuXG4vKipcbiAqIExvYWRpbmcgR29vZ2xlIFNoZWV0cyBuYXRpb25hbCBtZWRpYSB0YWJsZSwgc2V0IHVwIG1hcCBlbWJlZFxuICovXG5cbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHtcbiAgdmFyIFNIRUVUX0JBU0UgPSAgJ2h0dHBzOi8vc3ByZWFkc2hlZXRzLmdvb2dsZS5jb20vZmVlZHMvbGlzdC8xdkR2alI0VGdqOU5uYkxad21TeUpLRHJFQUU0Z0FIZjBOVUNqcDJpN0Q5MC8nO1xuICB2YXIgU0hFRVRfRU5EID0gJy9wdWJsaWMvdmFsdWVzP2FsdD1qc29uJztcbiAgdmFyIFNIRUVUXzFfVVJMID0gU0hFRVRfQkFTRSArICcxJyArIFNIRUVUX0VORDtcbiAgdmFyIFNIRUVUXzJfVVJMID0gU0hFRVRfQkFTRSArICcyJyArIFNIRUVUX0VORDtcbiAgdmFyIFNIRUVUX0xNU19VUkwgPSBTSEVFVF9CQVNFICsgJzMnICsgU0hFRVRfRU5EO1xuXG4gIGlmICgkKFwiI25hdGlvbmFsLW1lZGlhLXRhYmxlXCIpLmxlbmd0aCkge1xuICAgICQuZ2V0SlNPTihTSEVFVF8xX1VSTCwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgIHZhciBzaGVldE9uZVVwZGF0ZWQgPSBkYXRhLmZlZWQudXBkYXRlZC4kdDtcbiAgICAgIHZhciBzaGVldE9uZVJvd0NvdW50ID0gZGF0YS5mZWVkLmVudHJ5Lmxlbmd0aDtcblxuICAgICAgJC5nZXRKU09OKFNIRUVUXzJfVVJMLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB2YXIgcm93cyA9IGRhdGEuZmVlZC5lbnRyeTtcbiAgICAgICAgdmFyIGxhc3RVcGRhdGVkID0gZGF0YS5mZWVkLnVwZGF0ZWQuJHQ7XG4gICAgICAgIHZhciBwcm9wZXJ0aWVzID0gT2JqZWN0LmtleXMocm93c1swXSlcbiAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIChwKSB7IHJldHVybiBwLnN0YXJ0c1dpdGgoXCJnc3gkXCIpOyB9KVxuICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKHApIHsgcmV0dXJuIHAuc3Vic3RyKDQpOyB9KTtcbiAgICAgICAgdmFyIGNsZWFuZWRSb3dzID0gcm93cy5tYXAoZnVuY3Rpb24gKHIpIHtcbiAgICAgICAgICAgIHZhciByb3cgPSB7fTtcbiAgICAgICAgICAgIHByb3BlcnRpZXMuZm9yRWFjaChmdW5jdGlvbiAocCkge1xuICAgICAgICAgICAgICByb3dbcF0gPSByW1wiZ3N4JFwiICsgcF0uJHQgPT09IFwiXCIgPyBudWxsIDogcltcImdzeCRcIiArIHBdLiR0O1xuICAgICAgICAgICAgICBpZiAocm93W3BdID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcm93W3BdID0gJyc7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHJvdztcbiAgICAgICAgICB9KVxuXG4gICAgICAgICQuZ2V0SlNPTihTSEVFVF9MTVNfVVJMLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgIHZhciB0b3RhbExNU1JlZmVycmFscyA9IGRhdGEuZmVlZC5lbnRyeS5sZW5ndGhcblxuICAgICAgICAgIGNyZWF0ZU1lZGlhVGFibGUoc2hlZXRPbmVVcGRhdGVkLCBzaGVldE9uZVJvd0NvdW50LCBsYXN0VXBkYXRlZCwgY2xlYW5lZFJvd3MsIHRvdGFsTE1TUmVmZXJyYWxzKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxufSk7XG4iXX0=